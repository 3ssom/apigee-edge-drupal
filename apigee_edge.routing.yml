apigee_edge.settings:
  path: '/admin/config/apigee-edge'
  defaults:
    _form: '\Drupal\apigee_edge\Form\AuthenticationForm'
    _title: 'Apigee Edge Configuration'
  requirements:
    _permission: 'administer apigee edge'

apigee_edge.settings.product:
  path: '/admin/config/apigee-edge/product-settings'
  defaults:
    _form: '\Drupal\apigee_edge\Form\ProductSettingsForm'
    _title: 'API Product Settings'
  requirements:
    _permission: 'administer apigee edge'

apigee_edge.settings.app:
  path: '/admin/config/apigee-edge/app-settings'
  defaults:
    _form: '\Drupal\apigee_edge\Form\AppSettingsForm'
    _title: 'Application Settings'
  requirements:
    _permission: 'administer apigee edge'

apigee_edge.user_sync.schedule:
  path: '/admin/config/apigee-edge/sync/schedule'
  defaults:
    _controller: '\Drupal\apigee_edge\Controller\UserSyncController::schedule'
  requirements:
    _permission: 'administer apigee edge'
    _csrf_token: 'TRUE'

apigee_edge.user_sync.run:
  path: '/admin/config/apigee-edge/sync/run'
  defaults:
    _controller: '\Drupal\apigee_edge\Controller\UserSyncController::run'
  requirements:
    _permission: 'administer apigee edge'
    _csrf_token: 'TRUE'

entity.developer_app.add:
  path: 'developer-apps/add'
  defaults:
    _entity_form: 'developer_app.add'
    _title_callback: '\Drupal\apigee_edge\Entity\Form\DeveloperAppCreateForm::getPageTitle'
  requirements:
     # This route is only available to admins for now.
    _permission: 'administer developer_app'

entity.developer_app.delete:
  path: 'developer-apps/{developer_app}/delete'
  defaults:
    _entity_form: 'developer_app.delete'
    _title_callback: '\Drupal\apigee_edge\Entity\Form\DeveloperAppDeleteForm::getPageTitle'
  requirements:
    # This route is only available to admins for now.
    _permission: 'administer developer_app'

entity.developer_app.collection:
  path: 'developer-apps'
  defaults:
    _entity_list: 'developer_app'
    _title_callback: '\Drupal\apigee_edge\Entity\ListBuilder\DeveloperAppListBuilder::getPageTitle'
  requirements:
    # This route is only available to admins for now.
    _permission: 'administer developer_app'

entity.developer_app.add_form_for_developer:
  path: '/user/{user}/apps/create'
  defaults:
    _entity_form: 'developer_app.add_for_developer'
    _title_callback: '\Drupal\apigee_edge\Entity\Form\DeveloperAppCreateFormForDeveloper::getPageTitle'
  requirements:
     user: '\d+'
     _entity_create_access: 'developer_app'

entity.developer_app.delete_form_for_developer:
  path: '/user/{user}/apps/{app}/delete'
  defaults:
    _entity_form: 'developer_app.delete_for_developer'
    _title_callback: '\Drupal\apigee_edge\Entity\Form\DeveloperAppDeleteFormForDeveloper::getPageTitle'
  requirements:
     user: '\d+'
     _developer_app_access: 'delete'

entity.developer_app.collection_by_developer:
  path: '/user/{user}/apps'
  defaults:
    _controller: '\Drupal\apigee_edge\Controller\DeveloperAppListBuilderForDeveloper::render'
    _title_callback: '\Drupal\apigee_edge\Controller\DeveloperAppListBuilderForDeveloper::getPageTitle'
  requirements:
     user: '\d+'
     _permission: 'view own developer_app+view any developer_app+administer developer_app'

apigee_edge.user.my_apps:
  path: '/user/apps'
  defaults:
    _controller: '\Drupal\apigee_edge\Controller\DeveloperAppListBuilderForDeveloper::myAppsPage'
    _title_callback: 'apigee_edge_developer_app_entity_operation_title'
  requirements:
    _user_is_logged_in: 'TRUE'
    _permission: 'view own developer_app+view any developer_app+administer developer_app'

entity.developer_app.canonical_by_developer:
  path: '/user/{user}/apps/{app}/details'
  defaults:
    _form: '\Drupal\apigee_edge\Form\DeveloperAppDetailsForm'
  requirements:
     user: '\d+'
     _developer_app_access: 'view'
