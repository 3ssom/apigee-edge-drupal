services:
  logger.channel.apigee_edge:
    parent: logger.channel_base
    arguments: ['search_api']

  apigee_edge.cli:
    class: Drupal\apigee_edge\CliService

  plugin.manager.apigee_edge.credentials_storage:
    class: Drupal\apigee_edge\CredentialsStorageManager
    parent: default_plugin_manager

  plugin.manager.apigee_edge.authentication_method:
    class: Drupal\apigee_edge\AuthenticationMethodManager
    parent: default_plugin_manager

  apigee_edge.sdk_connector:
    class: Drupal\apigee_edge\SDKConnector
    arguments: ['@http_client', '@entity_type.manager', '@config.factory', '@plugin.manager.apigee_edge.credentials_storage', '@plugin.manager.apigee_edge.authentication_method', '@module_handler', '@info_parser']

  apigee_edge.job_executor:
    class: Drupal\apigee_edge\JobExecutor
    arguments: ['@database', '@datetime.time', '@queue']

  apigee_edge.exception_subscriber:
    class: Drupal\apigee_edge\EventSubscriber\EdgeExceptionSubscriber
    arguments: ['@url_generator']
    tags:
      - { name: event_subscriber }

  access_check.developer_app:
    class: Drupal\apigee_edge\Access\DeveloperAppAccessCheck
    arguments: ['@entity_type.manager']
    tags:
      - { name: access_check, applies_to: _developer_app_access }

  entity.query.edge:
    class: Drupal\apigee_edge\Entity\Query\QueryFactory
    arguments:
      - '@entity_type.manager'
    tags:
      - { name: event_subscriber }

  route_subscriber.apigee_edge.developer_app_by_name:
    class: Drupal\apigee_edge\EventSubscriber\DeveloperAppByNameRouteAlterSubscriber
    tags:
      - { name: event_subscriber }

  apigee_edge.subscriber:
    class: Drupal\apigee_edge\Routing\RouteSubscriber
    tags:
      - { name: event_subscriber }

  developer_app_name_converter:
    class: Drupal\apigee_edge\Routing\DeveloperAppNameParameterConverter
    arguments: ['@entity_type.manager']
    tags:
      - { name: paramconverter }
